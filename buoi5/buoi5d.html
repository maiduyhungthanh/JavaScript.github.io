<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,400;0,500;0,700;0,900;1,400&display=swap"
        rel="stylesheet">
    <title>Table</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            color: #696966;
            font-family: "Roboto";
        }

        .container {
            margin: auto;
        }

        h1 {
            font-size: 24px;
            margin-top: 40px;
            margin-bottom: 20px;
            text-transform: uppercase;
        }

        table,
        td,
        tr,
        th {
            border: 1px solid #ccc;
        }

        table {
            border-collapse: collapse;
        }

        td,
        th {
            padding: 15px 20px;
        }

        th {
            background-color: cadetblue;
            color: #fff;
        }

        .text-center,td {
            text-align: center;
        }

        table tbody tr:not(last-child) {
            border-bottom: 4px solid #ccc;
        }
        table tbody tr td p  {
            border-bottom: 4px solid #ccc;
        }
        p span {
            display: inline-block;
            font-weight: 700;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>Chi tiết thông tin học viên</h1>
        <table>
            <thead>
                <tr>
                    <th>#</th>
                    <th>Họ tên</th>
                    <th>Email</th>
                    <th>Số điện thoại</th>
                    <th>Số buổi nghỉ</th>
                    <th>Ngày nghỉ học</th>
                    <th>Ghi chú</th>
                    <th>Giảng viên</th>
                </tr>
            </thead>
            <tbody>
                <!-- Render bảng chứa thông tin lớp học ở đây -->
            </tbody>
        </table>
        <div class="class-detail">
            <h1>Chi tiết lớp học</h1>
            <div class="class-inner">
                <!-- Render thông tin lớp học -->
            </div>
        </div>
    </div>

    <script>
        let student_warning = {
            students: [
                {
                    name: "Lê Hoài Nam",
                    email: "namlehoai@gmail.com",
                    phone: "123456789",
                    totalOff: 2,
                    sessions: 14,
                    detailInfo: [
                        {
                            date: "01-09-2020",
                            note: "Xin nghỉ ốm",
                            teacher_name: "Bùi Hiên"
                        },
                        {
                            date: "05-09-2020",
                            note: "Buồn vì thất tình",
                            teacher_name: "Nguyễn Hàn Duy"
                        }
                    ]
                },
                {
                    name: "Đỗ Đăng Nguyên",
                    email: "nguyen@gmail.com",
                    phone: "0123987654",
                    totalOff: 2,
                    sessions: 14,
                    detailInfo: [
                        {
                            date: "01-09-2020",
                            note: "Mưa to nên ngại đi học",
                            teacher_name: "Bùi Hiên"
                        },
                        {
                            date: "05-09-2020",
                            note: "Trượt lô, nên rút học phí để đánh",
                            teacher_name: "Nguyễn Hàn Duy"
                        }
                    ]
                },
                {
                    name: "Nguyễn Xuân Ba",
                    email: "3nx92nd@gmail.com",
                    phone: "0344005987",
                    totalOff: 3,
                    sessions: 14,
                    detailInfo: [
                        {
                            date: "01-09-2020",
                            note: "Đang training không đi học được",
                            teacher_name: "Bùi Hiên"
                        },
                        {
                            date: "07-09-2020",
                            note: "Soạn giáo án đặc vụ 0175",
                            teacher_name: "Nguyễn Hàn Duy"
                        },
                        {
                            date: "10-09-2020",
                            note: "Ganks team còng lưng nên chưa đi học được",
                            teacher_name: "Nguyễn Hàn Duy"
                        }
                    ]
                }
            ],
            class : "Lập trình Game 2D Canvas",
            course : "Lập trình Game",
            sessions : 14,
            teachers : [
                {
                    name : "Bùi Hiên",
                    email : "hien@techmaster.vn",
                    phone : "0123456789"
                },
                {
                    name : "Nguyễn Hàn Duy",
                    email : "duy@techmaster.vn",
                    phone : "0987654321"
                }
            ]
        }
    //BẢNG THÔNG TIN
let tbody = document.querySelector("tbody")
let arrStudent = Array.from(student_warning.students)
// console.log(arrStudent)

for (let j = 0; j < arrStudent.length; j++) {
    let tr = document.createElement('tr')
    tbody.appendChild(tr)
    let td = document.createElement('td') 
    td.innerHTML = `${j+1}`
    tr.appendChild(td)

    let tdName = document.createElement('td') 
    tdName.innerHTML = `${arrStudent[j].name}`
    tr.appendChild(tdName)

    let tdEmail = document.createElement('td') 
    tdEmail.innerHTML = `${arrStudent[j].email}`
    tr.appendChild(tdEmail)

    let tdPhone = document.createElement('td') 
    tdPhone.innerHTML = `${arrStudent[j].phone}`
    tr.appendChild(tdPhone)

    let tdTotalOff = document.createElement('td') 
    tdTotalOff.innerHTML = `${arrStudent[j].totalOff}/14`
    tr.appendChild(tdTotalOff)

    let tdDate = document.createElement('td')
    tr.appendChild(tdDate)
    let tdNote = document.createElement('td')
    tr.appendChild(tdNote)
    let tdTeachName = document.createElement('td')
    tr.appendChild(tdTeachName)
    let arrDetail = Array.from(student_warning.students[j].detailInfo)
    console.log(arrDetail)
    for (let i = 0; i < arrDetail.length; i++) {
        let pDate = document.createElement('p')
        pDate.innerHTML = `${student_warning.students[j].detailInfo[i].date}`
        tdDate.appendChild(pDate)

        let pNote = document.createElement('p')
        pNote.innerHTML = `${student_warning.students[j].detailInfo[i].note}`
        tdNote.appendChild(pNote)
        
        let pTeachName = document.createElement('p')
        pTeachName.innerHTML = `${student_warning.students[j].detailInfo[i].teacher_name}`
        tdTeachName.appendChild(pTeachName)
    }
}
   
    //CHI TIẾT LỚP HỌC
    
let classDetails = document.querySelector("div.class-inner")
let className = document.createElement('p')
className.innerHTML = `<b>Lớp Học :</b> <span style ="font-weight: normal">${student_warning.class}</span>`
classDetails.appendChild(className)

let course = document.createElement('p')
course.innerHTML = `<b>Thuộc Khóa Học :</b>  <span style ="font-weight: normal">${student_warning.course}</span>`
classDetails.appendChild(course)

let listTeacher = document.createElement('p')
listTeacher.innerHTML = `<b>Danh sách giảng viên :</b> `
classDetails.appendChild(listTeacher)
let ulTeacher = document.createElement('ul')
classDetails.appendChild(ulTeacher)
let arrTeacher = Array.from(student_warning.teachers)
// console.log(arrTeacher)
for (let i = 0; i < arrTeacher.length; i++) {
    let liTeacher = document.createElement('li')
    liTeacher.innerHTML = `${arrTeacher[i].name} (${arrTeacher[i].email}-${arrTeacher[i].phone})`
    ulTeacher.appendChild(liTeacher)
}

let sessions = document.createElement('p')
sessions.innerHTML = `<b>Tổng số buổi :</b>  <span style ="font-weight: normal">${student_warning.sessions}</span>`
classDetails.appendChild(sessions)

    </script>
</body>

</html>